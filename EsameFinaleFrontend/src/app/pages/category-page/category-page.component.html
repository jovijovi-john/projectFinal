<main>
  <app-header></app-header>

  <!-- Modal -->
  <div class="modal-window" *ngIf="modal">
    <div class="modal-box">
      <header>
        <h5 class="title-modal text-light">
          {{ dadosPai?.formType }} {{ dadosPai?.resourceType }}
        </h5>
        <button class="btn text-danger" (click)="toggleModal()">
          <ng-icon name="heroXMark" size="36"></ng-icon>
        </button>
      </header>
      <div class="modal-form">
        <!-- FormulÃ¡rio de EditFilm -->
        <app-movie-form
          [formType]="dadosPai?.formType"
          *ngIf="dadosPai?.resourceType === 'movie'"
        ></app-movie-form>
        <app-serie-form
          [formType]="dadosPai?.formType"
          *ngIf="dadosPai?.resourceType === 'serie'"
        ></app-serie-form>
      </div>
    </div>
  </div>

  <div class="content">
    <div class="banner">
      <img src="{{ category?.srcImmagine }}" alt="" *ngIf="!loading" />

      <div class="content-banner-bg" *ngIf="!loading">
        <div class="content-banner-box">
          <div class="content-banner-info">
            <h2 class="text-light">{{ category?.nome }}</h2>
            <div class="category-desc">
              <p>
                {{ category?.descrizione }}
              </p>
            </div>
          </div>
        </div>
      </div>

      <app-spinner *ngIf="loading"></app-spinner>
    </div>

    <app-categorie-section
      [type]="'movie'"
      [categoryName]="category?.nome"
      [idCategory]="id"
      [(modal)]="modal"
      (dadosChange)="handleDadosChange($event)"
    />
    <app-categorie-section
      [type]="'serie'"
      [categoryName]="category?.nome"
      [idCategory]="id"
      [(modal)]="modal"
      (dadosChange)="handleDadosChange($event)"
    />
  </div>
  <app-footer></app-footer>
</main>
